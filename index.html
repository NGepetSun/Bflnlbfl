<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="BFL Gallery — Upload &amp; share your visual stories.">
  <title>BFL GALLERY</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ══════════════ HEADER ══════════════ -->
<header id="header">
  <div class="logo-wrap">
    <span class="logo-main">BFL GALLERY</span>
    <span class="logo-sub">// visual stories</span>
  </div>

  <nav class="nav-center">
    <button class="nav-pill active" data-cat="all"          onclick="setFilter('all')">All</button>
    <button class="nav-pill"        data-cat="nature"       onclick="setFilter('nature')">Nature</button>
    <button class="nav-pill"        data-cat="urban"        onclick="setFilter('urban')">Urban</button>
    <button class="nav-pill"        data-cat="portrait"     onclick="setFilter('portrait')">Portrait</button>
    <button class="nav-pill"        data-cat="abstract"     onclick="setFilter('abstract')">Abstract</button>
    <button class="nav-pill"        data-cat="street"       onclick="setFilter('street')">Street</button>
    <button class="nav-pill"        data-cat="travel"       onclick="setFilter('travel')">Travel</button>
  </nav>

  <button class="btn-upload" onclick="openModal()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
      <polyline points="17 8 12 3 7 8"/>
      <line x1="12" y1="3" x2="12" y2="15"/>
    </svg>
    Upload
  </button>
</header>

<!-- ══════════════ HERO ══════════════ -->
<section id="hero">
  <div class="hero-left">
    <div class="hero-eyebrow">Community Photo Gallery</div>
    <h1 class="hero-title">
      <span class="line-dim">VISUAL</span><br>
      <span class="line-accent">STORIES</span><br>
      <span>SHARED.</span>
    </h1>
    <p class="hero-subtitle">
      Ruang bagi siapapun untuk upload, temukan, dan rayakan fotografi. Tanpa login — cukup karya.
    </p>
  </div>
  <div class="hero-stats">
    <div class="stat-item"><strong class="stat-num" id="statTotal">0</strong><span class="stat-label">Photos</span></div>
    <div class="stat-item"><strong class="stat-num" id="statCreators">0</strong><span class="stat-label">Creators</span></div>
    <div class="stat-item"><strong class="stat-num" id="statLikes">0</strong><span class="stat-label">Likes</span></div>
  </div>
  <div class="hero-bg-text" aria-hidden="true">BFL</div>
</section>

<!-- ══════════════ TOOLBAR ══════════════ -->
<div id="toolbar">
  <div class="sort-pills">
    <button class="sort-pill active" onclick="setSort('newest',this)">Terbaru</button>
    <button class="sort-pill"        onclick="setSort('oldest',this)">Terlama</button>
    <button class="sort-pill"        onclick="setSort('liked',this)">Terbanyak Likes</button>
  </div>
  <div class="toolbar-right">
    <div class="search-wrap">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/>
      </svg>
      <input type="text" id="searchInput" placeholder="Cari foto…" autocomplete="off">
    </div>
    <div class="view-toggle">
      <button class="view-btn active" title="Grid" onclick="setView('grid',this)">
        <svg viewBox="0 0 24 24" fill="currentColor"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
      </button>
      <button class="view-btn" title="List" onclick="setView('list',this)">
        <svg viewBox="0 0 24 24" fill="currentColor"><rect x="3" y="4" width="18" height="3" rx="1"/><rect x="3" y="10.5" width="18" height="3" rx="1"/><rect x="3" y="17" width="18" height="3" rx="1"/></svg>
      </button>
    </div>
  </div>
</div>

<!-- ══════════════ GALLERY ══════════════ -->
<main id="gallery" aria-label="Photo Gallery"></main>

<!-- ══════════════ UPLOAD MODAL ══════════════ -->
<div class="modal-backdrop" id="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal-box">
    <div class="modal-head">
      <div class="modal-head-title" id="modalTitle">UPLOAD FOTO</div>
      <button class="btn-close" onclick="closeModal()" aria-label="Tutup">✕</button>
    </div>

    <!-- File Input (HIDDEN, triggered by browseBtn) -->
    <input type="file" id="fileInput" accept="image/*" style="display:none" aria-label="Pilih file foto">

    <!-- Drop Zone (NO overlapping input inside) -->
    <div class="drop-zone" id="dropZone">
      <div class="drop-icon-wrap">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
          <polyline points="17 8 12 3 7 8"/>
          <line x1="12" y1="3" x2="12" y2="15"/>
        </svg>
      </div>
      <div class="drop-title">Drag &amp; drop foto ke sini</div>
      <div class="drop-hint">atau</div>
      <button type="button" class="btn-browse" id="browseBtn">Pilih File</button>
      <div class="drop-hint" style="margin-top:10px">JPG · PNG · GIF · WebP · Maks 20MB</div>
      <div class="drop-filename" id="dropFileName"></div>
    </div>

    <!-- Preview -->
    <img id="previewImg" alt="Preview" style="display:none">

    <!-- Form Fields -->
    <div class="form-row">
      <div class="form-group">
        <label for="photoTitle">Judul Foto</label>
        <input type="text" id="photoTitle" placeholder="e.g. Golden Hour" maxlength="80">
      </div>
      <div class="form-group">
        <label for="photoAuthor">Nama Anda</label>
        <input type="text" id="photoAuthor" placeholder="Anonymous" maxlength="50">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="photoCategory">Kategori</label>
        <select id="photoCategory">
          <option value="uncategorized">Uncategorized</option>
          <option value="nature">Nature</option>
          <option value="urban">Urban</option>
          <option value="portrait">Portrait</option>
          <option value="abstract">Abstract</option>
          <option value="landscape">Landscape</option>
          <option value="travel">Travel</option>
          <option value="street">Street</option>
          <option value="architecture">Architecture</option>
          <option value="macro">Macro</option>
          <option value="astrophotography">Astrophotography</option>
        </select>
      </div>
      <div class="form-group">
        <label for="photoLocation">Lokasi <span style="opacity:.4;font-size:8px">(opsional)</span></label>
        <input type="text" id="photoLocation" placeholder="e.g. Bali, Indonesia" maxlength="60">
      </div>
    </div>

    <button class="btn-submit" id="submitBtn" onclick="submitPhoto()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="20 6 9 17 4 12"/>
      </svg>
      Publish Foto
    </button>
  </div>
</div>

<!-- ══════════════ LIGHTBOX ══════════════ -->
<div id="lightbox" role="dialog" aria-modal="true" aria-label="Lihat Foto">
  <button class="lb-close" onclick="closeLightbox()" aria-label="Tutup">✕</button>
  <button class="lb-nav-btn" id="lbPrev" onclick="lbNavigate(-1)" aria-label="Sebelumnya">&#8249;</button>
  <button class="lb-nav-btn" id="lbNext" onclick="lbNavigate(1)"  aria-label="Berikutnya">&#8250;</button>
  <div class="lb-inner">
    <img id="lbImg" src="" alt="">
    <div class="lb-panel">
      <div class="lb-title" id="lbTitle">—</div>
      <div class="lb-divider"></div>
      <div class="lb-field"><div class="lf-label">Fotografer</div><div class="lf-value" id="lbAuthor">—</div></div>
      <div class="lb-field"><div class="lf-label">Kategori</div><div class="lf-value" id="lbCategory">—</div></div>
      <div class="lb-field"><div class="lf-label">Lokasi</div><div class="lf-value" id="lbLocation">—</div></div>
      <div class="lb-field"><div class="lf-label">Diupload</div><div class="lf-value" id="lbDate">—</div></div>
      <div class="lb-divider"></div>
      <button class="btn-lb-like" id="lbLikeBtn" onclick="lbLike()">♡ Like</button>
    </div>
  </div>
</div>

<!-- ══════════════ TOAST ══════════════ -->
<div id="toast" role="status" aria-live="polite"></div>

<!-- ══════════════ FOOTER ══════════════ -->
<footer id="footer">
  <div class="footer-logo">BFL GALLERY</div>
  <span>Dibuat untuk kreator · Upload bebas · Tanpa akun</span>
  <span id="footerYear"></span>
</footer>

<script src="app.js"></script>
<script>document.getElementById('footerYear').textContent = '© ' + new Date().getFullYear();</script>
</body>
</html>
